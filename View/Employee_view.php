<?phpsession_start();if (!$_SESSION['branch']){    header('Location: ./Employee_login.php');    exit();}?><!doctype html><html lang="en"><head>    <meta charset="UTF-8">    <meta name="viewport"          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">    <meta http-equiv="X-UA-Compatible" content="ie=edge">    <title>Employee</title>    <?php    include_once '../includes/cdn.php';    include_once '../config.php';    global $conn;    ?>    <style>        .Btn {            display: flex;            align-items: center;            justify-content: flex-start;            width: 45px;            height: 45px;            border: none;            border-radius: 50%;            cursor: pointer;            position: relative;            overflow: hidden;            transition-duration: 0.3s;            background-color: #de371b;        }        .sign {            width: 100%;            transition-duration: 0.3s;            display: flex;            align-items: center;            justify-content: center;        }        .sign svg {            width: 18px;        }        .sign svg path {            fill: #ffffff;        }        .text {            position: absolute;            right: 0%;            width: 0%;            opacity: 0;            color: #ffffff;            font-size: 1.2em;            font-weight: 600;            transition-duration: 0.3s;        }        .Btn:hover {            width: 125px;            border-radius: 40px;            transition-duration: 0.3s;        }        .Btn:hover .sign {            width: 30%;            transition-duration: 0.3s;            padding-left: 20px;        }        .Btn:hover .text {            opacity: 1;            width: 70%;            transition-duration: 0.3s;            padding-right: 10px;        }        .Btn:active {            transform: translate(2px, 2px);        }        .modal{            background: rgba(255, 255, 255, 0.07);            border-radius: 16px;            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);            backdrop-filter: blur(3px);            -webkit-backdrop-filter: blur(3px);        }    </style></head><body><header  style="background-color: #202940" class="container-fluid d-flex justify-content-between align-items-center p-3">     <img style="width: 50px; height: 50px;" class="rounded-circle" src="../Assets/capstone_logo.jpg" alt="logo">     <nav class="d-flex gap-3">         <button data-bs-toggle="modal" data-bs-target="#modal_for_creatingSales" style="background-color: #04aa6d" class="btn text-light rounded-3">Create Sales</button>            <form id="logout_form" action="../Auth/logout.php" method="post">                <button type="submit" class="Btn">                    <div class="sign">                        <svg viewBox="0 0 512 512">                            <path                                    d="M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"                            ></path>                        </svg>                    </div>                    <div class="text">Logout</div>                </button>            </form>     </nav></header><!-- Modal for adding sales --><div class="modal fade" id="modal_for_creatingSales" data-bs-backdrop="static"  tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">    <div class="modal-dialog modal-dialog-centered modal-lg  modal-dialog-scrollable">        <div  class="modal-content">            <div style="background-color: #202940" class="modal-header">                <h1 class="modal-title fs-5 text-light" id="exampleModalLabel">Create New Sales</h1>                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>            </div>            <form id="form_product_sales" action="" method="post" class="modal-body d-flex flex-column gap-2">              <div id="container_message"></div>                <?php                $currentDate = date('Y-m-d');                $branch = $_SESSION['branch'];                ?>                    <!--hidden input to grab the branch -->                <input value="<?= $branch ?>" style="display: none" id="branch_1">                  <div  class="d-flex card border-0 bg-transparent gap-3 flex-column bg-transparent">                    <select id="product_1" class="form-select" aria-label="Default select example">                        <option selected>Select Product</option>                        <?php                        $result = $conn->query("SELECT * FROM product");                        while ($row = $result->fetch_assoc()){                            ?>                            <option value="<?= $row['product_id'] ?>"><?= $row['product_name'] ?></option>                        <?php                        }                        ?>                    </select>                      <script>                          /// making dynamic the product info                          $(document).ready(function (){                              $('#product_1').change(function (event){                                  $.ajax({                                      url: "../Data_Sales/Get_product_info.php",                                      type: "post",                                      dataType:'json',                                      encode: true,                                      data: {product_Id: event.target.value},                                      success: function (data){                                          $("#con_product_info").html(                                              `                                      <label for="count_">                                        <input class="form-control" value="${data.current_stack}" min="1" id="Quantity_1" type="number" placeholder="Quantity">                                    </label>                                    <label for="count_">                                        <input class="form-control" value="${data.unit_price}" id="price_1" type="number" placeholder="Price">                                    </label>                                    <label for="count_">                                        <input max="<?php echo date('Y-m-d'); ?>" class="form-control" id="date_1" type="date">                                    </label>                                  `)                                      }                                  })                              })                          })                      </script>                      <div id="con_product_info" class="d-lg-flex gap-3">                          <label for="count_">                              <input class="form-control"${info.current_stack} min="1" id="Quantity_1" type="number" placeholder="Quantity">                          </label>                          <label for="count_">                              <input class="form-control" id="price_1" type="number" placeholder="Price">                          </label>                          <label for="count_">                              <input max="<?php echo date('Y-m-d'); ?>" class="form-control" id="date_1" type="date">                          </label>                    </div>                </div>                <label for="Employee Name">                    <input id="Employee_1" class="form-control" type="text" placeholder="Employee Name">                </label>                <div id="adding_product_con"></div>`                <button style="background-color: #202940;" type="button" id="add_more" class="btn text-light">Add More</button>                <div class="modal-footer">                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>                    <button id="submit" style="background-color: #04aa6d" type="submit" class="btn text-light fw-bold">                        <i class="fa-solid fa-plus"></i>                        Create                    </button>                </div>            </form>        </div>    </div></div><div class="container-fluid mt-5">    <table id="example" class="table cell-border display compact" style="width:100%">        <thead>        <tr>            <th>#</th>            <th>Branch Name</th>            <th>Quantity Sold</th>            <th>Sales Amount</th>            <th>Sales Date</th>            <th>Action</th>        </tr>        </thead>        <tbody>        <!-- Your table data goes here -->        <?php        include_once '../config.php';         $branch = $_SESSION['branch'];          $Query = "SELECT * FROM sales WHERE sales.Sales_date = ? AND sales.branch = ?";          $stmt = $conn->prepare($Query);          $stmt->bind_param('ss',$currentDate,$branch);          $stmt->execute();          $result = $stmt->get_result();          while ($row = $result->fetch_assoc()){              if ($currentDate === $row['Sales_date']){                  ?>                  <tr>                      <th scope="row"><?= $row['sales_id']?></th>                      <td><?= $row['branch']?></td>                      <td><?= $row['quantity_sold']?></td>                      <td>â‚±<?= number_format($row['sale_amount'])?></td>                      <td><?= $row['Sales_date']?></td>                      <td>                          <button style="background-color: #202940" class="btn text-light">Update</button>                      </td>                  </tr>                  <?php              }          }        ?>        </tbody>    </table></div><div class="modal fade" id="loader_modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">    <div  class="modal-dialog modal-fullscreen">        <div style="background-color: #202940" class="modal-content rounded-0">            <div class="modal-body d-flex justify-content-center align-items-center">                <div style="color: #04aa6d" class="spinner-border fs-3" role="status">                    <span class="visually-hidden">Loading...</span>                </div>            </div>        </div>    </div></div><script>    new DataTable('#example', {        paging: false,        scrollCollapse: true,        scrollY: '50vh'    });</script><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script><script src="../MainJs/Create_sales.js"></script></body></html>